(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/EMn":function(t,n,r){"use strict";r.d(n,"a",function(){return p});var e=r("tnAE"),i=r("5163"),o=r("lg7r"),a=r("26FU"),s=r("F/XL"),u=r("67Y/"),c=r("CcnG"),p=function(){function t(t,n){this.rest=t,this.userInfo=n,this.isLoadTrainingsForUser="",this._trainings=new a.a([]),this.trainings$=this._trainings.asObservable(),console.log("ProgramsService:: INIT"),this.getProgramComplex().subscribe()}return Object.defineProperty(t.prototype,"programComplexes",{get:function(){var t=this.userInfo.user;return t&&t.programComplexes||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainings",{get:function(){return this._trainings.value},set:function(t){this._trainings.next(t)},enumerable:!0,configurable:!0}),t.prototype.addTraining=function(t){this.trainings=this.trainings.concat([t])},t.prototype.generateId=function(){return((new Date).getTime()+(100*Math.random()).toFixed(0)).toString()},t.prototype.adjunctionWithID=function(t){return t.id=this.generateId(),t.id},t.prototype.getProgramComplex=function(){return this.rest.fakeCall("",{programComplexes:this.programComplexes})},Object.defineProperty(t.prototype,"localStorageUserName",{get:function(){return"user_"+(this.userInfo.user&&this.userInfo.user.id)},enumerable:!0,configurable:!0}),t.prototype.saveTraining=function(){var t=JSON.stringify(this.trainings.map(function(t){var n=t.toMap();return n.protoTraining=t.protoTraining.id,n.protoTrainig=t.protoTraining.id,n.exercises=t.exercises.map(function(t){var n=t.toMap();return n.protoLink=t.protoLink.id,n}),n}));return localStorage.setItem(this.localStorageUserName,t),Object(s.a)(!0)},t.prototype.loadTrainings=function(){var t=this;if(this.isLoadTrainingsForUser===(this.userInfo.user&&this.userInfo.user.id))return Object(s.a)(this.trainings);var n=localStorage.getItem(this.localStorageUserName);if(this.isLoadTrainingsForUser=this.userInfo.user&&this.userInfo.user.id||"",n){var r=JSON.parse(n).map(function(n){var r=t.getProtoTrainingById(n.protoTrainig||n.protoTraining);delete n.protoTraining,delete n.protoTrainig,n.exercises=n.exercises.map(function(t){if(t.protoLink instanceof Object)return t;var n=t.protoLink,e=r.exercises.find(function(t){return t.id===n});return e&&(t.protoLink=e.toMap()),t});var e=new i.a(n);return e.protoTraining=r,e});this.trainings=r}return Object(s.a)(this.trainings)},t.prototype.getProtoTrainingById=function(t){return this.programComplexes.reduce(function(t,n){return t.concat(n.protoTrainings)},[]).find(function(n){return n.id===t})},t.prototype.getTrainingById=function(t){return this.loadTrainings().pipe(Object(u.a)(function(n){return n.find(function(n){return n.id===t})}))},t.ngInjectableDef=c.T({factory:function(){return new t(c.X(e.a),c.X(o.a))},token:t,providedIn:"root"}),t}()},LC5p:function(t,n,r){"use strict";r.d(n,"a",function(){return i}),r.d(n,"b",function(){return o});var e=r("n6gG"),i=function(){function t(){this._vertical=!1,this._inset=!1}return Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=Object(e.b)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inset",{get:function(){return this._inset},set:function(t){this._inset=Object(e.b)(t)},enumerable:!0,configurable:!0}),t}(),o=function(){return function(){}}()},TtEo:function(t,n,r){"use strict";r.d(n,"a",function(){return i}),r.d(n,"b",function(){return o});var e=r("CcnG"),i=(r("LC5p"),r("Ip0R"),r("Fzqc"),r("Wf4p"),r("ZYjt"),e.ob({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],data:{}}));function o(t){return e.Jb(2,[],null,null)}},oZBs:function(t,n,r){"use strict";r.d(n,"a",function(){return a});var e=r("z+q4"),i=r("CcnG"),o=r("o3x0"),a=function(){function t(t){this.dialog=t}return t.prototype.openDialog=function(t,n){this.dialog.open(e.a,{width:"80%",data:t}).afterClosed().subscribe(function(t){"function"==typeof n&&n(t)})},t.ngInjectableDef=i.T({factory:function(){return new t(i.X(o.e))},token:t,providedIn:"root"}),t}()},u7R8:function(t,n,r){"use strict";r.d(n,"a",function(){return e}),r("mrSG"),r("n6gG"),r("YlbQ"),r("CcnG"),r("gIcY"),r("Wf4p");var e=function(){return function(){}}()}}]);